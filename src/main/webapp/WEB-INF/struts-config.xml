<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC 
"-//Apache Software Foundation//DTD Struts Configuration 1.3//EN" 
"http://jakarta.apache.org/struts/dtds/struts-config_1_3.dtd">
<struts-config>

	<form-beans>
		<form-bean name="nullForm" type="com.philihp.weblabora.form.NullForm" />
		<form-bean name="hijackForm" type="com.philihp.weblabora.form.HijackForm" />
		<form-bean name="gameForm" type="com.philihp.weblabora.form.GameForm" />
		<form-bean name="joinGameForm" type="com.philihp.weblabora.form.JoinGameForm" />
		<form-bean name="moveForm" type="com.philihp.weblabora.form.MoveForm" />
	</form-beans>

	<global-exceptions>
		<exception type="com.philihp.weblabora.action.AuthenticationException" path="/authenticate.do" key="" />
		<exception type="java.net.UnknownHostException" path="/error.jsp" key="exception.unknownHost" />
	</global-exceptions>

	<global-forwards>
		<forward name="authenticate" path="/authenticate.do" redirect="true" />
		<forward name="root" redirect="true" path="/" />

		<!-- only index.jsp should use this, but it must be global -->
		<forward name="board" redirect="false" path="/showGame.do" />
	</global-forwards>

	<action-mappings>
		<action path="/authenticate" type="com.philihp.weblabora.action.Authenticate">
			<forward name="getInfo" path="/authenticateGetInfo.do" />
		</action>
		<action path="/authenticateGetInfo" type="com.philihp.weblabora.action.AuthenticateGetInfo" />
		<action path="/authenticateLogout" type="com.philihp.weblabora.action.AuthenticateLogout" />
		<!--
		<action path="/authenticateHijack" name="hijackForm" type="com.philihp.weblabora.action.AuthenticateHijack" />
		-->
		<action path="/offline" type="com.philihp.weblabora.action.Offline" />

		<action path="/showGame" name="gameForm" scope="request" type="com.philihp.weblabora.action.ShowGame">
			<forward name="game-state" path="/showGameState.do" />
			<forward name="no-game" path="/selectGame.do" />
		</action>
		<action path="/showGameState" name="gameForm" scope="request" type="com.philihp.weblabora.action.ShowGameState">
			<forward name="view" path="/showBoard.jsp" />
		</action>
		<action path="/selectGame" name="nullForm" type="com.philihp.weblabora.action.SelectGame">
			<forward name="show-board" path="/showGame.do" redirect="true" />
			<forward name="no-games" path="/showGamePicker.do" redirect="true" />
		</action>
		<action path="/showGames" type="com.philihp.weblabora.action.ShowGames">
			<forward name="view" path="/showGames.jsp" />
		</action>
		<action path="/showGamePicker" type="com.philihp.weblabora.action.ShowGamePicker">
			<forward name="view" path="/showGamePicker.jsp" />
		</action>
		<action path="/createGame" name="nullForm" type="com.philihp.weblabora.action.CreateGame" />
		<action path="/joinGame" name="joinGameForm" type="com.philihp.weblabora.action.JoinGame" />
		<action path="/leaveGame" name="gameForm" scope="request" type="com.philihp.weblabora.action.LeaveGame" />
		<action path="/makeMove" name="moveForm" type="com.philihp.weblabora.action.MakeMove">
			<forward name="badMove" path="/badMove.jsp" />
			<forward name="save" path="/saveMove.do" />
		</action>
		<action path="/saveMove" name="moveForm" type="com.philihp.weblabora.action.SaveMove" />

	</action-mappings>

	<message-resources parameter="ApplicationResources" />

</struts-config>